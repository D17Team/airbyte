{
    "containerDefinitions": [
        {
            "environment": [
                {
                    "name": "AIRBYTE_VERSION",
                    "value": "${VERSION}"
                },
                {
                    "name": "CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION",
                    "value": "${CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION}"
                },
                {
                    "name": "DATABASE_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "DATABASE_URL",
                    "value": "${DATABASE_URL}"
                },
                {
                    "name": "DATABASE_USER",
                    "value": "${DATABASE_USER}"
                },
                {
                    "name": "DEPLOYMENT_MODE",
                    "value": "${DEPLOYMENT_MODE}"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "${LOG_LEVEL}"
                },
                {
                    "name": "REMOTE_CONNECTOR_CATALOG_URL",
                    "value": "${REMOTE_CONNECTOR_CATALOG_URL}"
                },
                {
                    "name": "TEMPORAL_HISTORY_RETENTION_IN_DAYS",
                    "value": "${TEMPORAL_HISTORY_RETENTION_IN_DAYS}"
                },
                {
                    "name": "UPDATE_DEFINITIONS_CRON_ENABLED",
                    "value": "${UPDATE_DEFINITIONS_CRON_ENABLED}"
                },
                {
                    "name": "WORKSPACE_ROOT",
                    "value": "${WORKSPACE_ROOT}"
                },
                {
                    "name": "MICRONAUT_ENVIRONMENTS",
                    "value": "${CRON_MICRONAUT_ENVIRONMENTS}"
                }
            ],
            "essential": true,
            "image": "airbyte/cron:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "${WORKSPACE_ROOT}",
                    "sourceVolume": "Workspace"
                }
            ],
            "name": "airbyte-cron"
        },
        {
            "environment": [
                {
                    "name": "BASIC_AUTH_USERNAME",
                    "value": "${BASIC_AUTH_USERNAME}"
                },
                {
                    "name": "BASIC_AUTH_PASSWORD",
                    "value": "${BASIC_AUTH_PASSWORD}"
                }
            ],
            "essential": true,
            "image": "airbyte/proxy:${VERSION}",
            "name": "airbyte-proxy",
            "portMappings": [
                {
                    "containerPort": 8000,
                    "hostPort": 8000
                },
                {
                    "containerPort": 8001,
                    "hostPort": 8001
                }
            ]
        },
        {
            "environment": [
                {
                    "name": "DB",
                    "value": "postgresql"
                },
                {
                    "name": "DB_PORT",
                    "value": "${DATABASE_PORT}"
                },
                {
                    "name": "DYNAMIC_CONFIG_FILE_PATH",
                    "value": "config/dynamicconfig/development.yaml"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "${LOG_LEVEL}"
                },
                {
                    "name": "POSTGRES_PWD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "POSTGRES_SEEDS",
                    "value": "${DATABASE_HOST}"
                },
                {
                    "name": "POSTGRES_USER",
                    "value": "${DATABASE_USER}"
                }
            ],
            "essential": true,
            "image": "airbyte/temporal:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "/etc/temporal/config/dynamicconfig",
                    "sourceVolume": "_TemporalDynamicconfig"
                }
            ],
            "name": "airbyte-temporal"
        },
        {
            "environment": [
                {
                    "name": "AIRBYTE_VERSION",
                    "value": "${VERSION}"
                },
                {
                    "name": "CONFIG_DATABASE_PASSWORD",
                    "value": "${CONFIG_DATABASE_PASSWORD:-}"
                },
                {
                    "name": "CONFIG_DATABASE_URL",
                    "value": "${CONFIG_DATABASE_URL:-}"
                },
                {
                    "name": "CONFIG_DATABASE_USER",
                    "value": "${CONFIG_DATABASE_USER:-}"
                },
                {
                    "name": "DATABASE_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "DATABASE_URL",
                    "value": "${DATABASE_URL}"
                },
                {
                    "name": "DATABASE_USER",
                    "value": "${DATABASE_USER}"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "${LOG_LEVEL}"
                },
                {
                    "name": "RUN_DATABASE_MIGRATION_ON_STARTUP",
                    "value": "${RUN_DATABASE_MIGRATION_ON_STARTUP}"
                }
            ],
            "essential": true,
            "image": "airbyte/bootloader:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "name": "bootloader"
        },
        {
            "environment": [
                {
                    "name": "CONFIG_DATABASE_PASSWORD",
                    "value": "${CONFIG_DATABASE_PASSWORD:-}"
                },
                {
                    "name": "CONFIG_DATABASE_URL",
                    "value": "${CONFIG_DATABASE_URL:-}"
                },
                {
                    "name": "CONFIG_DATABASE_USER",
                    "value": "${CONFIG_DATABASE_USER:-}"
                },
                {
                    "name": "DATABASE_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "DATABASE_URL",
                    "value": "${DATABASE_URL}"
                },
                {
                    "name": "DATABASE_USER",
                    "value": "${DATABASE_USER}"
                },
                {
                    "name": "POSTGRES_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "POSTGRES_USER",
                    "value": "${DATABASE_USER}"
                }
            ],
            "essential": true,
            "image": "airbyte/db:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "/var/lib/postgresql/data",
                    "sourceVolume": "Db"
                }
            ],
            "name": "db"
        },
        {
            "command": [
                "/bin/sh",
                "-c",
                "./scripts/create_mount_directories.sh /local_parent ${HACK_LOCAL_ROOT_PARENT} ${LOCAL_ROOT}"
            ],
            "environment": [
                {
                    "name": "LOCAL_ROOT",
                    "value": "${LOCAL_ROOT}"
                },
                {
                    "name": "HACK_LOCAL_ROOT_PARENT",
                    "value": "${HACK_LOCAL_ROOT_PARENT}"
                }
            ],
            "essential": true,
            "image": "airbyte/init:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "/local_parent",
                    "sourceVolume": "${Hack_Local_Root_Parent}"
                }
            ],
            "name": "init"
        },
        {
            "environment": [
                {
                    "name": "AIRBYTE_ROLE",
                    "value": "${AIRBYTE_ROLE:-}"
                },
                {
                    "name": "AIRBYTE_VERSION",
                    "value": "${VERSION}"
                },
                {
                    "name": "CONFIG_DATABASE_PASSWORD",
                    "value": "${CONFIG_DATABASE_PASSWORD:-}"
                },
                {
                    "name": "CONFIG_DATABASE_URL",
                    "value": "${CONFIG_DATABASE_URL:-}"
                },
                {
                    "name": "CONFIG_DATABASE_USER",
                    "value": "${CONFIG_DATABASE_USER:-}"
                },
                {
                    "name": "CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION",
                    "value": "${CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION:-}"
                },
                {
                    "name": "CONFIG_ROOT",
                    "value": "${CONFIG_ROOT}"
                },
                {
                    "name": "DATABASE_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "DATABASE_URL",
                    "value": "${DATABASE_URL}"
                },
                {
                    "name": "DATABASE_USER",
                    "value": "${DATABASE_USER}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_CPU_LIMIT",
                    "value": "${JOB_MAIN_CONTAINER_CPU_LIMIT}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_CPU_REQUEST",
                    "value": "${JOB_MAIN_CONTAINER_CPU_REQUEST}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_MEMORY_LIMIT",
                    "value": "${JOB_MAIN_CONTAINER_MEMORY_LIMIT}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_MEMORY_REQUEST",
                    "value": "${JOB_MAIN_CONTAINER_MEMORY_REQUEST}"
                },
                {
                    "name": "JOBS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION",
                    "value": "${JOBS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION:-}"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "${LOG_LEVEL}"
                },
                {
                    "name": "NEW_SCHEDULER",
                    "value": "${NEW_SCHEDULER}"
                },
                {
                    "name": "SECRET_PERSISTENCE",
                    "value": "${SECRET_PERSISTENCE}"
                },
                {
                    "name": "TEMPORAL_HOST",
                    "value": "${TEMPORAL_HOST}"
                },
                {
                    "name": "TRACKING_STRATEGY",
                    "value": "${TRACKING_STRATEGY}"
                },
                {
                    "name": "JOB_ERROR_REPORTING_STRATEGY",
                    "value": "${JOB_ERROR_REPORTING_STRATEGY}"
                },
                {
                    "name": "JOB_ERROR_REPORTING_SENTRY_DSN",
                    "value": "${JOB_ERROR_REPORTING_SENTRY_DSN}"
                },
                {
                    "name": "WEBAPP_URL",
                    "value": "${WEBAPP_URL}"
                },
                {
                    "name": "WORKER_ENVIRONMENT",
                    "value": "${WORKER_ENVIRONMENT}"
                },
                {
                    "name": "WORKSPACE_ROOT",
                    "value": "${WORKSPACE_ROOT}"
                },
                {
                    "name": "GITHUB_STORE_BRANCH",
                    "value": "${GITHUB_STORE_BRANCH}"
                }
            ],
            "essential": true,
            "image": "airbyte/server:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "${WORKSPACE_ROOT}",
                    "sourceVolume": "Workspace"
                },
                {
                    "containerPath": "${CONFIG_ROOT}",
                    "sourceVolume": "Data"
                },
                {
                    "containerPath": "${LOCAL_ROOT}",
                    "sourceVolume": "${Local_Root}"
                }
            ],
            "name": "server",
            "portMappings": [
                {
                    "containerPort": 8001
                }
            ]
        },
        {
            "environment": [
                {
                    "name": "AIRBYTE_ROLE",
                    "value": "${AIRBYTE_ROLE:-}"
                },
                {
                    "name": "AIRBYTE_VERSION",
                    "value": "${VERSION}"
                },
                {
                    "name": "API_URL",
                    "value": "${API_URL:-}"
                },
                {
                    "name": "INTERNAL_API_HOST",
                    "value": "${INTERNAL_API_HOST}"
                },
                {
                    "name": "OPENREPLAY",
                    "value": "${OPENREPLAY:-}"
                },
                {
                    "name": "PAPERCUPS_STORYTIME",
                    "value": "${PAPERCUPS_STORYTIME:-}"
                },
                {
                    "name": "TRACKING_STRATEGY",
                    "value": "${TRACKING_STRATEGY}"
                }
            ],
            "essential": true,
            "image": "airbyte/webapp:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "name": "webapp",
            "portMappings": [
                {
                    "containerPort": 80
                }
            ]
        },
        {
            "environment": [
                {
                    "name": "AIRBYTE_VERSION",
                    "value": "${VERSION}"
                },
                {
                    "name": "AUTO_DISABLE_FAILING_CONNECTIONS",
                    "value": "${AUTO_DISABLE_FAILING_CONNECTIONS}"
                },
                {
                    "name": "CONFIG_DATABASE_PASSWORD",
                    "value": "${CONFIG_DATABASE_PASSWORD:-}"
                },
                {
                    "name": "CONFIG_DATABASE_URL",
                    "value": "${CONFIG_DATABASE_URL:-}"
                },
                {
                    "name": "CONFIG_DATABASE_USER",
                    "value": "${CONFIG_DATABASE_USER:-}"
                },
                {
                    "name": "CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION",
                    "value": "${CONFIGS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION:-}"
                },
                {
                    "name": "CONFIG_ROOT",
                    "value": "${CONFIG_ROOT}"
                },
                {
                    "name": "DATABASE_PASSWORD",
                    "value": "${DATABASE_PASSWORD}"
                },
                {
                    "name": "DATABASE_URL",
                    "value": "${DATABASE_URL}"
                },
                {
                    "name": "DATABASE_USER",
                    "value": "${DATABASE_USER}"
                },
                {
                    "name": "DEPLOYMENT_MODE",
                    "value": "${DEPLOYMENT_MODE}"
                },
                {
                    "name": "INTERNAL_API_HOST",
                    "value": "${INTERNAL_API_HOST}"
                },
                {
                    "name": "JOBS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION",
                    "value": "${JOBS_DATABASE_MINIMUM_FLYWAY_MIGRATION_VERSION:-}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_CPU_LIMIT",
                    "value": "${JOB_MAIN_CONTAINER_CPU_LIMIT}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_CPU_REQUEST",
                    "value": "${JOB_MAIN_CONTAINER_CPU_REQUEST}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_MEMORY_LIMIT",
                    "value": "${JOB_MAIN_CONTAINER_MEMORY_LIMIT}"
                },
                {
                    "name": "JOB_MAIN_CONTAINER_MEMORY_REQUEST",
                    "value": "${JOB_MAIN_CONTAINER_MEMORY_REQUEST}"
                },
                {
                    "name": "LOCAL_DOCKER_MOUNT",
                    "value": "${LOCAL_DOCKER_MOUNT}"
                },
                {
                    "name": "LOCAL_ROOT",
                    "value": "${LOCAL_ROOT}"
                },
                {
                    "name": "LOG_LEVEL",
                    "value": "${LOG_LEVEL}"
                },
                {
                    "name": "LOG_CONNECTOR_MESSAGES",
                    "value": "${LOG_CONNECTOR_MESSAGES}"
                },
                {
                    "name": "MAX_CHECK_WORKERS",
                    "value": "${MAX_CHECK_WORKERS}"
                },
                {
                    "name": "MAX_DISCOVER_WORKERS",
                    "value": "${MAX_DISCOVER_WORKERS}"
                },
                {
                    "name": "MAX_SPEC_WORKERS",
                    "value": "${MAX_SPEC_WORKERS}"
                },
                {
                    "name": "MAX_SYNC_WORKERS",
                    "value": "${MAX_SYNC_WORKERS}"
                },
                {
                    "name": "NORMALIZATION_JOB_MAIN_CONTAINER_MEMORY_LIMIT",
                    "value": "${NORMALIZATION_JOB_MAIN_CONTAINER_MEMORY_LIMIT}"
                },
                {
                    "name": "NORMALIZATION_JOB_MAIN_CONTAINER_MEMORY_REQUEST",
                    "value": "${NORMALIZATION_JOB_MAIN_CONTAINER_MEMORY_REQUEST}"
                },
                {
                    "name": "NORMALIZATION_JOB_MAIN_CONTAINER_CPU_LIMIT",
                    "value": "${NORMALIZATION_JOB_MAIN_CONTAINER_CPU_LIMIT}"
                },
                {
                    "name": "NORMALIZATION_JOB_MAIN_CONTAINER_CPU_REQUEST",
                    "value": "${NORMALIZATION_JOB_MAIN_CONTAINER_CPU_REQUEST}"
                },
                {
                    "name": "SECRET_PERSISTENCE",
                    "value": "${SECRET_PERSISTENCE}"
                },
                {
                    "name": "SYNC_JOB_MAX_ATTEMPTS",
                    "value": "${SYNC_JOB_MAX_ATTEMPTS}"
                },
                {
                    "name": "SYNC_JOB_MAX_TIMEOUT_DAYS",
                    "value": "${SYNC_JOB_MAX_TIMEOUT_DAYS}"
                },
                {
                    "name": "TEMPORAL_HOST",
                    "value": "${TEMPORAL_HOST}"
                },
                {
                    "name": "TRACKING_STRATEGY",
                    "value": "${TRACKING_STRATEGY}"
                },
                {
                    "name": "WEBAPP_URL",
                    "value": "${WEBAPP_URL}"
                },
                {
                    "name": "WORKSPACE_DOCKER_MOUNT",
                    "value": "${WORKSPACE_DOCKER_MOUNT}"
                },
                {
                    "name": "WORKSPACE_ROOT",
                    "value": "${WORKSPACE_ROOT}"
                },
                {
                    "name": "METRIC_CLIENT",
                    "value": "${METRIC_CLIENT}"
                },
                {
                    "name": "OTEL_COLLECTOR_ENDPOINT",
                    "value": "${OTEL_COLLECTOR_ENDPOINT}"
                },
                {
                    "name": "JOB_ERROR_REPORTING_STRATEGY",
                    "value": "${JOB_ERROR_REPORTING_STRATEGY}"
                },
                {
                    "name": "JOB_ERROR_REPORTING_SENTRY_DSN",
                    "value": "${JOB_ERROR_REPORTING_SENTRY_DSN}"
                },
                {
                    "name": "ACTIVITY_MAX_ATTEMPT",
                    "value": "${ACTIVITY_MAX_ATTEMPT}"
                },
                {
                    "name": "ACTIVITY_INITIAL_DELAY_BETWEEN_ATTEMPTS_SECONDS",
                    "value": "${ACTIVITY_INITIAL_DELAY_BETWEEN_ATTEMPTS_SECONDS}"
                },
                {
                    "name": "ACTIVITY_MAX_DELAY_BETWEEN_ATTEMPTS_SECONDS",
                    "value": "${ACTIVITY_MAX_DELAY_BETWEEN_ATTEMPTS_SECONDS}"
                },
                {
                    "name": "WORKFLOW_FAILURE_RESTART_DELAY_SECONDS",
                    "value": "${WORKFLOW_FAILURE_RESTART_DELAY_SECONDS}"
                },
                {
                    "name": "USE_STREAM_CAPABLE_STATE",
                    "value": "${USE_STREAM_CAPABLE_STATE}"
                },
                {
                    "name": "MICRONAUT_ENVIRONMENTS",
                    "value": "${WORKERS_MICRONAUT_ENVIRONMENTS}"
                }
            ],
            "essential": true,
            "image": "airbyte/worker:${VERSION}",
            "logConfiguration": {
                "logDriver": "json-file",
                "options": {
                    "max-file": "5",
                    "max-size": "100m"
                }
            },
            "mountPoints": [
                {
                    "containerPath": "/var/run/docker.sock",
                    "sourceVolume": "VarRunDocker_Sock"
                },
                {
                    "containerPath": "${WORKSPACE_ROOT}",
                    "sourceVolume": "Workspace"
                },
                {
                    "containerPath": "${LOCAL_ROOT}",
                    "sourceVolume": "${Local_Root}"
                }
            ],
            "name": "worker",
            "portMappings": [
                {
                    "containerPort": 9000
                }
            ]
        }
    ],
    "family": "",
    "volumes": [
        {
            "host": {
                "sourcePath": "${HACK_LOCAL_ROOT_PARENT}"
            },
            "name": "${Hack_Local_Root_Parent}"
        },
        {
            "host": {
                "sourcePath": "db"
            },
            "name": "Db"
        },
        {
            "host": {
                "sourcePath": "/var/run/docker.sock"
            },
            "name": "VarRunDocker_Sock"
        },
        {
            "host": {
                "sourcePath": "workspace"
            },
            "name": "Workspace"
        },
        {
            "host": {
                "sourcePath": "${LOCAL_ROOT}"
            },
            "name": "${Local_Root}"
        },
        {
            "host": {
                "sourcePath": "data"
            },
            "name": "Data"
        },
        {
            "host": {
                "sourcePath": "./temporal/dynamicconfig"
            },
            "name": "_TemporalDynamicconfig"
        }
    ]
}
